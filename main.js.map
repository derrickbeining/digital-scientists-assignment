{"version":3,"sources":["webpack:///webpack/bootstrap 2d33100a9f34e8c85698","webpack:///./src/Component.js","webpack:///./src/components/CameraScreen.js","webpack:///./src/components/Canvas.js","webpack:///./src/components/ButtonReadResult.js","webpack:///./src/index.js","webpack:///./src/components/ButtonCameraPower.js","webpack:///./src/components/Error.js","webpack:///./src/mediaDevice.js","webpack:///./src/components/ButtonCameraFacing.js","webpack:///./src/components/ButtonCameraCapture.js"],"names":["merge","one","two","Object","assign","Component","id","defaultState","state","getState","setState","arg","renderer","dom","document","getElementById","noop","classname","classList","add","remove","toggle","event","eventHandler","options","addEventListener","fn","CameraScreen","show","facingMode","render","then","addClass","catch","message","err","name","removeClass","Canvas","clearPhoto","ctx","getContext","fillStyle","fillRect","width","height","takePicture","cameraScreen","offsetHeight","offsetWidth","drawImage","Promise","toBlob","blob","fulfillWith","ButtonReadResult","result","speakResult","utterance","SpeechSynthesisUtterance","window","speechSynthesis","speak","on","evt","ButtonCameraPower","textContent","Error","hasMediaDeviceAPI","startingCamera","stopCamera","Boolean","navigator","mediaDevices","getUserMedia","isMobileDevice","userAgent","search","generateConstraints","supportedConstraints","getSupportedConstraints","constraints","aspectRatio","hasOwnProperty","video","srcObject","mediaStream","play","ButtonCameraFacing","console","log","ButtonCameraCapture","sendImageForAnalysis","imageData","headers","Headers","append","fetch","method","mode","cache","body","JSON","stringify","image","res","json","data","labelAnnotations","description","fileReader","FileReader","readAsDataURL","imageBlob"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d33100a9f34e8c85698","\nfunction merge(one, two) {\n  return Object.assign({}, one, two);\n}\n\nexport default class Component {\n\n  constructor(id, defaultState = {}) {\n\n    let state = defaultState;\n\n    const getState = () => state;\n\n    const setState = arg => {\n      if (typeof arg === 'function') {\n        setState(arg(getState()));\n      } else {\n        state = merge(state, arg);\n        this.renderer(getState())\n      }\n    }\n\n    this.dom = document.getElementById(id);\n    this.getState = getState;\n    this.setState = setState;\n    this.renderer = function noop() { };\n  }\n\n  addClass(classname) {\n    this.dom.classList.add(classname);\n  }\n\n  removeClass(classname) {\n    this.dom.classList.remove(classname);\n  }\n\n  toggleClass(classname) {\n    this.dom.classList.toggle(classname);\n  }\n\n  on(event, eventHandler, options = false) {\n    return this.dom.addEventListener(event, eventHandler, options);\n  }\n\n  render(fn) {\n    this.renderer = fn;\n    fn(this.getState());\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Component.js","import Component from '../Component';\nimport Error from './Error';\nimport {hasMediaDeviceAPI, startingCamera, stopCamera} from '../mediaDevice';\n\nconst CameraScreen = new Component('CameraScreen', {\n  show: false,\n  facingMode: 'environment'\n})\n\nCameraScreen.render((state) => {\n  const {show, facingMode} = state;\n  if (hasMediaDeviceAPI()) {\n\n    if (show) {\n      startingCamera(CameraScreen.dom, facingMode)\n        .then(() => CameraScreen.addClass('camera__screen--show'))\n        .catch(err => Error.setState({message: `${err.name}: \\n${err.message}`}))\n    }\n\n    else {\n      stopCamera(CameraScreen.dom);\n      CameraScreen.removeClass('camera__screen--show');\n    }\n  }\n})\n\nexport default CameraScreen;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CameraScreen.js","import Component from '../Component';\nimport CameraScreen from './CameraScreen';\n\nconst Canvas = new Component('Canvas');\n\n\n\nCanvas.clearPhoto = function clearPhoto() {\n  // application/octet-stream\n  const ctx = this.dom.getContext('2d');\n  ctx.fillStyle = '#fff';\n  ctx.fillRect(0, 0, this.dom.width, this.dom.height);\n}\n\nCanvas.takePicture = function takePicture(cameraScreen) {\n  const ctx = this.dom.getContext('2d');\n  this.dom.height = cameraScreen.offsetHeight;\n  this.dom.width = cameraScreen.offsetWidth;\n  ctx.drawImage(cameraScreen, 0, 0, this.dom.width, this.dom.height);\n\n  return new Promise(fulfillWith => {\n    Canvas.dom.toBlob(function(blob) {\n      fulfillWith(blob)\n    });\n  })\n\n}\n\nexport default Canvas;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Canvas.js","import Component from '../Component';\nimport CameraScreen from './CameraScreen';\n\nconst ButtonReadResult = new Component('ButtonReadResult', {\n  result: 'You must take a picture first.'\n});\n\nfunction speakResult(result) {\n  const utterance = new SpeechSynthesisUtterance(result)\n  window.speechSynthesis.speak(utterance)\n}\n\nButtonReadResult.on('click', function(evt) {\n  speakResult(ButtonReadResult.getState().result);\n})\n\nexport default ButtonReadResult;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ButtonReadResult.js","// import 'webrtc-adapter/out/adapter';\n\nimport ButtonCameraPower from './components/ButtonCameraPower';\nimport ButtonCameraFacing from './components/ButtonCameraFacing';\nimport ButtonCameraCapture from './components/ButtonCameraCapture';\nimport ButtonReadResult from './components/ButtonReadResult';\nimport Canvas from './components/Canvas';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Component from '../Component';\nimport CameraScreen from './CameraScreen';\n\nconst ButtonCameraPower = new Component('ButtonCameraPower');\n\nButtonCameraPower.on('click', function(evt) {\n  if (CameraScreen.getState().show) {\n    CameraScreen.setState({show: false});\n    ButtonCameraPower.dom.textContent = 'On';\n  } else {\n    CameraScreen.setState({show: true});\n    ButtonCameraPower.dom.textContent = 'Off';\n  }\n})\n\nexport default ButtonCameraPower;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ButtonCameraPower.js","import Component from '../Component';\n\nconst Error = new Component('Error', {\n  message: ''\n})\n\nError.render(state => {\n  Error.dom.textContent = state.message;\n});\n\n\nexport default Error;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Error.js","import CameraScreen from './components/CameraScreen';\n\nexport function hasMediaDeviceAPI () {\n  return Boolean(navigator.mediaDevices)\n    && Boolean(navigator.mediaDevices.getUserMedia);\n}\n\nfunction isMobileDevice () {\n  return navigator.userAgent.search(/mobi/i) !== -1;\n}\n\nfunction generateConstraints(facingMode = 'environment') {\n  const supportedConstraints = navigator.mediaDevices.getSupportedConstraints();\n  const constraints = {\n    width: CameraScreen.dom.offsetWidth,\n    height: CameraScreen.dom.offsetWidth,\n    aspectRatio: 1\n  }\n\n  if (isMobileDevice() && supportedConstraints.hasOwnProperty('facingMode')) {\n    constraints.video = { facingMode: facingMode };\n  } else {\n    constraints.video = true;\n  }\n\n  return constraints;\n}\n\nexport function startingCamera (video, facingMode = 'environment') {\n  return navigator.mediaDevices\n    .getUserMedia(generateConstraints(facingMode))\n    .then(mediaStream => {\n      video.srcObject = mediaStream;\n      video.play();\n    })\n}\n\nexport function stopCamera (video) {\n  video.srcObject = null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mediaDevice.js","import Component from '../Component';\nimport CameraScreen from './CameraScreen';\n\nconst ButtonCameraFacing = new Component('ButtonCameraFacing');\n\nButtonCameraFacing.on('click', function(evt) {\n  console.log('clicked')\n  if (CameraScreen.getState().facingMode === 'user') {\n    CameraScreen.setState({facingMode: 'environment'});\n    ButtonCameraFacing.dom.textContent = 'Switch to Front';\n  } else {\n    CameraScreen.setState({facingMode: 'user'});\n    ButtonCameraFacing.dom.textContent = 'Switch to Rear';\n  }\n})\n\nexport default ButtonCameraFacing;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ButtonCameraFacing.js","import Component from '../Component';\nimport Canvas from './Canvas';\nimport CameraScreen from './CameraScreen';\nimport ButtonReadResult from './ButtonReadResult';\n\nconst ButtonCameraCapture = new Component('ButtonCameraCapture');\n\nfunction sendImageForAnalysis(imageData) {\n  const headers = new Headers();\n  headers.append('Content-Type', 'application/json');\n  return fetch('https://young-mountain-88984.herokuapp.com/image-vision', {\n    method: 'POST',\n    headers: headers,\n    mode: 'cors',\n    cache: 'default',\n    body: JSON.stringify({ image: imageData }),\n  })\n  .then(res => res.json())\n  .then(data => data.labelAnnotations[0].description)\n  .catch(err => console.log('Error: ', err));\n}\n\nconst fileReader = new FileReader();\n\nfileReader.addEventListener('loadend', function() {\n  sendImageForAnalysis(fileReader.result)\n  .then(result => ButtonReadResult.setState({result}));\n})\n\nButtonCameraCapture.on('click', function takePicture() {\n  Canvas.takePicture(CameraScreen.dom)\n  .then(imageBlob => {\n    fileReader.readAsDataURL(imageBlob);\n  });\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ButtonCameraCapture.js"],"sourceRoot":""}